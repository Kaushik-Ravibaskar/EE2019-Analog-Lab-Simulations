Version 4
SHEET 1 1844 1016
WIRE -1504 -688 -1504 -704
WIRE -1504 -592 -1504 -608
WIRE -1344 -592 -1504 -592
WIRE -1504 -576 -1504 -592
WIRE -1296 -512 -1376 -512
WIRE -1504 -480 -1504 -496
WIRE -1376 -480 -1376 -512
WIRE -1376 -480 -1504 -480
WIRE -1504 -464 -1504 -480
WIRE -1504 -352 -1504 -384
WIRE -672 -64 -848 -64
WIRE -144 -64 -256 -64
WIRE 16 -64 -64 -64
WIRE 768 -16 384 -16
WIRE -592 0 -592 -64
WIRE -368 0 -592 0
WIRE -1488 32 -1488 -48
WIRE -672 64 -848 64
WIRE -592 64 -592 0
WIRE 384 64 384 -16
WIRE 464 64 384 64
WIRE -368 80 -368 0
WIRE -256 80 -256 -64
WIRE -256 80 -368 80
WIRE -192 80 -256 80
WIRE 608 80 528 80
WIRE 768 80 768 -16
WIRE 768 80 672 80
WIRE 944 80 944 -16
WIRE 944 80 768 80
WIRE 16 96 16 -64
WIRE 16 96 -128 96
WIRE 224 96 16 96
WIRE 320 96 288 96
WIRE 384 96 320 96
WIRE 464 96 384 96
WIRE -192 112 -288 112
WIRE 944 112 944 80
WIRE 384 128 384 96
WIRE 768 128 768 80
WIRE 16 160 16 96
WIRE 768 240 768 192
WIRE 944 240 944 192
WIRE 1088 240 944 240
WIRE 1216 240 1088 240
WIRE 944 272 944 240
WIRE 1088 288 1088 240
WIRE 320 336 320 96
WIRE 944 400 944 352
WIRE 1088 400 1088 352
FLAG -288 112 Vcm
IOPIN -288 112 In
FLAG 16 160 V_out_adder
IOPIN 16 160 Out
FLAG 384 208 0
FLAG 768 240 0
FLAG 944 400 0
FLAG 1088 400 0
FLAG 1216 240 V_ref
IOPIN 1216 240 Out
FLAG 944 -16 V_peak
IOPIN 944 -16 Out
FLAG -160 64 Vdd
IOPIN -160 64 In
FLAG 496 48 Vdd
IOPIN 496 48 In
FLAG -160 128 0
FLAG 496 112 0
FLAG -1504 -352 0
FLAG -1504 -704 0
FLAG -1344 -592 Vdd
IOPIN -1344 -592 Out
FLAG -1296 -512 Vcm
IOPIN -1296 -512 Out
FLAG -1488 -128 0
FLAG -1488 32 Vin_audio
IOPIN -1488 32 In
FLAG 320 336 V_in_ac
IOPIN 320 336 In
FLAG -1744 448 Vin_audio
IOPIN -1744 448 In
FLAG -1424 464 Vout_bpf1
IOPIN -1424 464 Out
FLAG -1424 496 Vout_bpf2
IOPIN -1424 496 Out
FLAG -848 -64 Vout_bpf1
IOPIN -848 -64 Out
FLAG -848 64 Vout_bpf2
IOPIN -848 64 Out
FLAG -1424 432 Vdd
IOPIN -1424 432 Out
FLAG -1424 400 Vcm
IOPIN -1424 400 Out
SYMBOL OpAmps\\UniversalOpAmp3 -160 96 R0
SYMATTR InstName U1
SYMBOL res -576 -80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 1Meg
SYMBOL res -576 48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 1Meg
SYMBOL res -48 -80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 1Meg
SYMBOL cap 288 80 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 10n
SYMBOL res 368 112 R0
SYMATTR InstName R4
SYMATTR Value 1Meg
SYMBOL OpAmps\\UniversalOpAmp3 496 80 R0
SYMATTR InstName U2
SYMBOL diode 608 96 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMBOL cap 752 128 R0
SYMATTR InstName C2
SYMATTR Value 4.7µ
SYMBOL res 928 96 R0
SYMATTR InstName R5
SYMATTR Value 13k
SYMBOL res 928 256 R0
SYMATTR InstName R6
SYMATTR Value 5k
SYMBOL cap 1072 288 R0
SYMATTR InstName C3
SYMATTR Value 15n
SYMBOL res -1520 -592 R0
WINDOW 0 36 40 Invisible 0
SYMATTR InstName R7
SYMATTR Value 10
SYMBOL res -1520 -480 R0
WINDOW 0 36 40 Invisible 0
SYMATTR InstName R8
SYMATTR Value 10
SYMBOL voltage -1504 -592 R180
WINDOW 0 24 96 Invisible 2
WINDOW 3 24 16 Left 2
SYMATTR InstName VDD1
SYMATTR Value 5V
SYMBOL voltage -1488 -32 R180
WINDOW 0 24 96 Left 2
WINDOW 3 24 16 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value SINE(2.5 0.9 5k)
SYMBOL Exp_6_Block -1584 448 R0
SYMATTR InstName Exp_6_block
TEXT -480 672 Left 2 ;Adder
TEXT 704 672 Left 2 ;Peak Detector
TEXT 1384 920 Left 2 ;Done by Kaushik R EE20B057
TEXT 1384 952 Left 2 ;Analog Labs 2022 Summer
TEXT -1792 1000 Left 2 !.tran 1 uic
RECTANGLE Normal 144 624 -1072 -416 2
RECTANGLE Normal 1360 624 160 -416 2
RECTANGLE Normal 1840 992 1280 880 2
RECTANGLE Normal 1824 976 1296 896 2
